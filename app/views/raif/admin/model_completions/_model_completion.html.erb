<tr id="<%= dom_id(model_completion) %>" class="raif-model-completion">
  <td><%= link_to "##{model_completion.id}", raif.admin_model_completion_path(model_completion) %></td>
  <td><small class="text-muted"><%= model_completion.created_at.rfc822 %></small></td>
  <td><%= model_completion.source_type %> #<%= model_completion.source_id %></td>
  <td><%= model_completion.llm_model_key %></td>
  <td><%= model_completion.response_format %></td>
  <td>
    <% if model_completion.failed? %>
      <span class="badge bg-danger"><%= t("raif.admin.common.failed") %></span>
    <% elsif model_completion.completed? %>
      <span class="badge bg-success"><%= t("raif.admin.common.completed") %></span>
    <% else %>
      <span class="badge bg-secondary"><%= t("raif.admin.common.pending") %></span>
    <% end %>
  </td>
  <td><%= model_completion.total_tokens ? number_with_delimiter(model_completion.total_tokens) : "-" %></td>
  <td><%= model_completion.total_cost ? number_to_currency(model_completion.total_cost, precision: 6) : "-" %></td>
  <td>
    <% if model_completion.citations.present? %>
      <span class="badge bg-info"><%= model_completion.citations.length %></span>
    <% else %>
      <span class="text-muted">-</span>
    <% end %>
  </td>
  <td><small class="text-muted"><%= truncate(model_completion.raw_response, length: 100) %></small></td>
</tr>
