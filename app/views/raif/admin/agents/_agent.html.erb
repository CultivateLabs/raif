<tr id="<%= dom_id(agent) %>" class="raif-agent">
  <td><%= link_to "##{agent.id}", raif.admin_agent_path(agent) %></td>
  <td><small class="text-muted"><%= agent.type.demodulize %></small></td>
  <td><small class="text-muted"><%= agent.created_at.rfc822 %></small></td>
  <td><small class="text-muted"><%= truncate(agent.task, length: 100) %></small></td>
  <td>
    <% if agent.completed_at? %>
      <span class="badge bg-success"><%= t("raif.admin.common.completed") %></span>
    <% elsif agent.failed_at? %>
      <span class="badge bg-danger"><%= t("raif.admin.common.failed") %></span>
    <% elsif agent.started_at? %>
      <span class="badge bg-warning"><%= t("raif.admin.common.running") %></span>
    <% else %>
      <span class="badge bg-secondary"><%= t("raif.admin.common.pending") %></span>
    <% end %>
  </td>
  <td><%= agent.iteration_count %> / <%= agent.max_iterations %></td>
  <td>
    <% if agent.total_cost && agent.total_cost > 0 %>
      <small><%= "$" %><%= number_with_precision(agent.total_cost, precision: 6) %></small>
    <% else %>
      -
    <% end %>
  </td>
  <td><small class="text-muted"><%= truncate(agent.final_answer, length: 100) if agent.final_answer %></small></td>
</tr>
